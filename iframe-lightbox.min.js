!function(t,r){"use strict";var e="addEventListener",n="getElementById",o="getElementsByClassName",a="createElement",i="classList",s="appendChild",l="dataset",u="iframe-lightbox",c="is-loaded",f="is-opened",h="is-showing",d=function(t,e){var n=e||{};this.trigger=t,this.rate=n.rate||500,this.el=r[o](u)[0]||"",this.body=this.el?this.el[o]("body")[0]:"",this.content=this.el?this.el[o]("content")[0]:"",this.href=t[l].src||"",this.paddingBottom=t[l].paddingBottom||"",this.onOpened=n.onOpened,this.onIframeLoaded=n.onIframeLoaded,this.onLoaded=n.onLoaded,this.onCreated=n.onCreated,this.init()};d.prototype.init=function(){var t=this;this.el||this.create();var r=function(t,r){var e,n,o,a;return function(){o=this,n=[].slice.call(arguments,0),a=new Date;var i=function(){var s=new Date-a;r>s?e=setTimeout(i,r-s):(e=null,t.apply(o,n))};e||(e=setTimeout(i,r))}},n=function(r){r.preventDefault(),t.open()},o=r(n,this.rate);this.trigger[e]("click",o)},d.prototype.create=function(){var t=this,n=r[a]("div");this.el=r[a]("div"),this.content=r[a]("div"),this.body=r[a]("div"),this.el[i].add(u),n[i].add("backdrop"),this.content[i].add("content"),this.body[i].add("body"),this.el[s](n),this.content[s](this.body),this.contentHolder=r[a]("div"),this.contentHolder[i].add("content-holder"),this.contentHolder[s](this.content),this.el[s](this.contentHolder),r.body[s](this.el),n[e]("click",function(){t.close()});var o=function(){t.isOpen()||(t.el[i].remove(h),t.body.innerHTML="")};this.el[e]("transitionend",o,!1),this.el[e]("webkitTransitionEnd",o,!1),this.el[e]("mozTransitionEnd",o,!1),this.el[e]("msTransitionEnd",o,!1),this.callCallback(this.onCreated,this)},d.prototype.loadIframe=function(){var t=this;this.iframeId=u+Date.now(),this.body.innerHTML='<iframe src="'+this.href+'" name="'+this.iframeId+'" id="'+this.iframeId+'" onload="this.style.opacity=1;" style="opacity:0;border:none;" scrolling="no" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="true" height="166" frameborder="no"></iframe>',function(e,o){r[n](e).onload=function(){this.style.opacity=1,o[i].add(c),t.callCallback(t.onIframeLoaded,t),t.callCallback(t.onLoaded,t)}}(this.iframeId,this.body)},d.prototype.open=function(){this.loadIframe(),this.paddingBottom?this.content.style.paddingBottom=this.paddingBottom:this.content.removeAttribute("style"),this.el[i].add(h),this.el[i].add(f),this.callCallback(this.onOpened,this)},d.prototype.close=function(){this.el[i].remove(f),this.body[i].remove(c)},d.prototype.isOpen=function(){return this.el[i].contains(f)},d.prototype.callCallback=function(t,r){if("function"==typeof t){var e=t.bind(this);e(r)}},t.IframeLightbox=d}("undefined"!=typeof window?window:this,document);
