!function(t){"use strict";var e=document,i="addEventListener",n="getElementById",o="getElementsByClassName",s="createElement",r="classList",d="appendChild",h="dataset",a="iframe-lightbox",l="is-loaded",c="is-opened",f="is-showing",m=function(t,i){this.trigger=t,this.rate=i||500,this.el=e[o](a)[0]||"",this.body=this.el?this.el[o]("body")[0]:"",this.content=this.el?this.el[o]("content")[0]:"",this.href=t[h].src||"",this.paddingBottom=t[h].paddingBottom||"",this.init()};m.prototype.init=function(){var t=this;this.el||this.create();var e=function(t,e){var i,n,o,s;return function(){o=this,n=[].slice.call(arguments,0),s=new Date;var r=function(){var d=new Date-s;e>d?i=setTimeout(r,e-d):(i=null,t.apply(o,n))};i||(i=setTimeout(r,e))}},n=function(e){e.preventDefault(),t.open()},o=e(n,this.rate);this.trigger[i]("click",o)},m.prototype.create=function(){var t=this,n=e[s]("div");this.el=e[s]("div"),this.content=e[s]("div"),this.body=e[s]("div"),this.el[r].add(a),n[r].add("backdrop"),this.content[r].add("content"),this.body[r].add("body"),this.el[d](n),this.content[d](this.body),this.content_holder=e[s]("div"),this.content_holder[r].add("content-holder"),this.content_holder[d](this.content),this.el[d](this.content_holder),e.body[d](this.el),n[i]("click",function(){t.close()});var o=function(){t.isOpen()||(t.el[r].remove(f),t.body.innerHTML="")};this.el[i]("transitionend",o,!1),this.el[i]("webkitTransitionEnd",o,!1),this.el[i]("mozTransitionEnd",o,!1),this.el[i]("msTransitionEnd",o,!1)},m.prototype.loadIframe=function(){this.iframeId=a+Date.now(),this.body.innerHTML='<iframe src="'+this.href+'" name="'+this.iframeId+'" id="'+this.iframeId+'" onload="this.style.opacity=1;" style="opacity:0;border:none;" scrolling="no" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="true" height="166" frameborder="no"></iframe>',function(t,i){e[n](t).onload=function(){this.style.opacity=1,i[r].add(l)}}(this.iframeId,this.body)},m.prototype.open=function(){this.loadIframe(),this.paddingBottom?this.content.style.paddingBottom=this.paddingBottom:this.content.removeAttribute("style"),this.el[r].add(f),this.el[r].add(c)},m.prototype.close=function(){this.el[r].remove(c),this.body[r].remove(l)},m.prototype.isOpen=function(){return this.el[r].contains(c)},t.IframeLightbox=m}(globalRoot);
