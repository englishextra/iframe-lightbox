!function(t){"use strict";var e=document,i="addEventListener",n="getElementsByClassName",o="createElement",s="classList",a="appendChild",d="dataset",h=function(t,i){var i=i||{};this.trigger=t,this.rate=i.rate||500,this.el=e[n]("iframe-lightbox")[0]||"",this.body=this.el?this.el[n]("body")[0]:"",this.content=this.el?this.el[n]("content")[0]:"",this.href=t[d].src||"",this.paddingBottom=t[d].paddingBottom||"",this.onOpened=i.onOpened,this.onIframeLoaded=i.onIframeLoaded,this.onCreated=i.onCreated,this.init()};h.prototype.init=function(){var t=this;this.el||this.create();var e=function(t,e){var i,n,o,s;return function(){o=this,n=[].slice.call(arguments,0),s=new Date;var a=function(){var d=new Date-s;d<e?i=setTimeout(a,e-d):(i=null,t.apply(o,n))};i||(i=setTimeout(a,e))}}(function(e){e.preventDefault(),t.open()},this.rate);this.trigger[i]("click",e)},h.prototype.create=function(){var t=this,n=e[o]("div");this.el=e[o]("div"),this.content=e[o]("div"),this.body=e[o]("div"),this.el[s].add("iframe-lightbox"),n[s].add("backdrop"),this.content[s].add("content"),this.body[s].add("body"),this.el[a](n),this.content[a](this.body),this.content_holder=e[o]("div"),this.content_holder[s].add("content-holder"),this.content_holder[a](this.content),this.el[a](this.content_holder),e.body[a](this.el),n[i]("click",function(){t.close()});var d=function(e){t.isOpen()||(t.el[s].remove("is-showing"),t.body.innerHTML="")};this.el[i]("transitionend",d,!1),this.el[i]("webkitTransitionEnd",d,!1),this.el[i]("mozTransitionEnd",d,!1),this.el[i]("msTransitionEnd",d,!1),this.callCallback(this.onCreated,this)},h.prototype.loadIframe=function(){var t=this;this.iframeId="iframe-lightbox"+Date.now(),this.body.innerHTML='<iframe src="'+this.href+'" name="'+this.iframeId+'" id="'+this.iframeId+'" onload="this.style.opacity=1;" style="opacity:0;border:none;" scrolling="no" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="true" height="166" frameborder="no"></iframe>',function(i,n){e.getElementById(i).onload=function(){this.style.opacity=1,n[s].add("is-loaded"),t.callCallback(t.onIframeLoaded,t)}}(this.iframeId,this.body)},h.prototype.open=function(){this.loadIframe(),this.paddingBottom?this.content.style.paddingBottom=this.paddingBottom:this.content.removeAttribute("style"),this.el[s].add("is-showing"),this.el[s].add("is-opened"),this.callCallback(this.onOpened,this)},h.prototype.close=function(){this.el[s].remove("is-opened"),this.body[s].remove("is-loaded")},h.prototype.isOpen=function(){return this.el[s].contains("is-opened")},h.prototype.callCallback=function(t,e){"function"==typeof t&&t.bind(this)(e)},t.IframeLightbox=h}("undefined"!=typeof window?window:this);
