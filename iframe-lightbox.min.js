!function(t){"use strict";var e=document,i="addEventListener",n="getElementById",o="getElementsByClassName",s="createElement",d="classList",r="appendChild",a="dataset",l="iframe-lightbox",h="is-loaded",c="is-opened",f="is-showing",m=function(t,i){t.nodeName&&(this.trigger=t,this.rate=i||500,this.el=e[o](l)[0]||"",this.body=this.el?this.el[o]("body")[0]:"",this.content=this.el?this.el[o]("content")[0]:"",this.href=t[a].src||"",this.paddingBottom=t[a].paddingBottom||"",this.init())};m.prototype.init=function(){var t=this;this.el||this.create();var e=function(t,e){var i,n,o,s;return function(){o=this,n=[].slice.call(arguments,0),s=new Date;var d=function(){var r=new Date-s;e>r?i=setTimeout(d,e-r):(i=null,t.apply(o,n))};i||(i=setTimeout(d,e))}},n=function(e){e.preventDefault(),t.open()},o=e(n,this.rate);this.trigger[i]("click",o)},m.prototype.create=function(){var t=this,n=e[s]("div");this.el=e[s]("div"),this.content=e[s]("div"),this.body=e[s]("div"),this.el[d].add(l),n[d].add("backdrop"),this.content[d].add("content"),this.body[d].add("body"),this.el[r](n),this.content[r](this.body),this.contentHolder=e[s]("div"),this.contentHolder[d].add("content-holder"),this.contentHolder[r](this.content),this.el[r](this.contentHolder),e.body[r](this.el),n[i]("click",function(){t.close()});var o=function(){t.isOpen()||(t.el[d].remove(f),t.body.innerHTML="")};this.el[i]("transitionend",o,!1),this.el[i]("webkitTransitionEnd",o,!1),this.el[i]("mozTransitionEnd",o,!1),this.el[i]("msTransitionEnd",o,!1)},m.prototype.loadIframe=function(){this.iframeId=l+Date.now(),this.body.innerHTML='<iframe src="'+this.href+'" name="'+this.iframeId+'" id="'+this.iframeId+'" onload="this.style.opacity=1;" style="opacity:0;border:none;" scrolling="no" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="true" frameborder="no" title="Embedded Content"></iframe>',function(t,i){e[n](t).onload=function(){this.style.opacity=1,i[d].add(h)}}(this.iframeId,this.body)},m.prototype.open=function(){this.loadIframe(),this.paddingBottom?this.content.style.paddingBottom=this.paddingBottom:this.content.removeAttribute("style"),this.el[d].add(f),this.el[d].add(c)},m.prototype.close=function(){this.el[d].remove(c),this.body[d].remove(h)},m.prototype.isOpen=function(){return this.el[d].contains(c)},t.IframeLightbox=m}("undefined" !== typeof window ? window : this);
