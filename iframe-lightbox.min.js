!function(t,e){"use strict";var i="addEventListener",n="getElementById",o="getElementsByClassName",s="createElement",a="classList",d="appendChild",l="dataset",r="iframe-lightbox",h="is-loaded",c="is-opened",f="is-showing",p=function(t,i){var n=i||{};this.trigger=t,this.rate=n.rate||500,this.el=e[o](r)[0]||"",this.body=this.el?this.el[o]("body")[0]:"",this.content=this.el?this.el[o]("content")[0]:"",this.href=t[l].src||"",this.paddingBottom=t[l].paddingBottom||"",this.onOpened=n.onOpened,this.onIframeLoaded=n.onIframeLoaded,this.onLoaded=n.onLoaded,this.onCreated=n.onCreated,this.init()};p.prototype.init=function(){var t=this;this.el||this.create();var e=function(t,e){var i,n,o,s;return function(){o=this,n=[].slice.call(arguments,0),s=new Date;var a=function(){var d=new Date-s;e>d?i=setTimeout(a,e-d):(i=null,t.apply(o,n))};i||(i=setTimeout(a,e))}},n=function(e){e.preventDefault(),t.open()},o=e(n,this.rate);this.trigger[i]("click",o)},p.prototype.create=function(){var t=this,n=e[s]("div");this.el=e[s]("div"),this.content=e[s]("div"),this.body=e[s]("div"),this.el[a].add(r),n[a].add("backdrop"),this.content[a].add("content"),this.body[a].add("body"),this.el[d](n),this.content[d](this.body),this.contentHolder=e[s]("div"),this.contentHolder[a].add("content-holder"),this.contentHolder[d](this.content),this.el[d](this.contentHolder),e.body[d](this.el),n[i]("click",function(){t.close()});var o=function(){t.isOpen()||(t.el[a].remove(f),t.body.innerHTML="")};this.el[i]("transitionend",o,!1),this.el[i]("webkitTransitionEnd",o,!1),this.el[i]("mozTransitionEnd",o,!1),this.el[i]("msTransitionEnd",o,!1),this.callCallback(this.onCreated,this)},p.prototype.loadIframe=function(){var t=this;this.iframeId=r+Date.now(),this.body.innerHTML='<iframe src="'+this.href+'" name="'+this.iframeId+'" id="'+this.iframeId+'" onload="this.style.opacity=1;" style="opacity:0;border:none;" scrolling="no" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="true" height="166" frameborder="no"></iframe>',function(i,o){e[n](i).onload=function(){this.style.opacity=1,o[a].add(h),t.callCallback(t.onIframeLoaded,t),t.callCallback(t.onLoaded,t)}}(this.iframeId,this.body)},p.prototype.open=function(){this.loadIframe(),this.paddingBottom?this.content.style.paddingBottom=this.paddingBottom:this.content.removeAttribute("style"),this.el[a].add(f),this.el[a].add(c),this.callCallback(this.onOpened,this)},p.prototype.close=function(){this.el[a].remove(c),this.body[a].remove(h)},p.prototype.isOpen=function(){return this.el[a].contains(c)},p.prototype.callCallback=function(t,e){if("function"==typeof t){var i=t.bind(this);i(e)}},t.IframeLightbox=p}("undefined"!=typeof window?window:this,document);
