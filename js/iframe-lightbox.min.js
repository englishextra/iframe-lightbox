!function(o,s){"use strict";var n=s.documentElement||"",a=s.body||"",l="appendChild",d="classList",r="createElement",h="dataset",c="getElementsByClassName",u="innerHTML",f="setAttribute",m="addEventListener",p="iframe-lightbox",b="iframe-lightbox-window--is-binded",t="iframe-lightbox--open",g="iframe-lightbox-link--is-binded",v="is-loaded",i="is-opened",y="is-showing",C=null!==navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)||void 0!==s.createTouch||"ontouchstart"in o||"onmsgesturechange"in o||navigator.msMaxTouchPoints,e=function(t,i){var e=i||{};this.trigger=t,this.el=s[c](p)[0]||"",this.body=this.el?this.el[c]("body")[0]:"",this.content=this.el?this.el[c]("content")[0]:"",this.src=t[h].src||"",this.href=t.getAttribute("href")||"",this.dataPaddingBottom=t[h].paddingBottom||"",this.dataScrolling=t[h].scrolling||"",this.dataTouch=t[h].touch||"",this.rate=e.rate||500,this.scrolling=e.scrolling,this.touch=e.touch,this.onOpened=e.onOpened,this.onIframeLoaded=e.onIframeLoaded,this.onLoaded=e.onLoaded,this.onCreated=e.onCreated,this.onClosed=e.onClosed,this.init()};e.prototype.init=function(){var t=this;this.el||this.create();var i=function(){t.open()},e=function(t){var e,o,n,s,a,l;t.stopPropagation(),t.preventDefault(),(e=i,o=this.rate,function(){a=this,s=[].slice.call(arguments,0),l=new Date,n||(n=setTimeout(function t(){var i=new Date-l;i<o?n=setTimeout(t,o-i):(n=null,e.apply(a,s))},o))}).call()};this.trigger[d].contains(g)||(this.trigger[d].add(g),this.trigger[m]("click",e),C&&(t.touch||t.dataTouch)&&this.trigger[m]("touchstart",e))},e.prototype.create=function(){var i=this,t=s[r]("div");t[d].add("backdrop"),this.el=s[r]("div"),this.el[d].add(p),this.el[l](t),this.content=s[r]("div"),this.content[d].add("content"),this.body=s[r]("div"),this.body[d].add("body"),this.content[l](this.body),this.contentHolder=s[r]("div"),this.contentHolder[d].add("content-holder"),this.contentHolder[l](this.content),this.el[l](this.contentHolder),this.btnClose=s[r]("a"),this.btnClose[d].add("btn-close"),this.btnClose[f]("href","javascript:void(0);"),this.el[l](this.btnClose),a[l](this.el),t[m]("click",function(){i.close()}),this.btnClose[m]("click",function(){i.close()}),n[d].contains(b)||(n[d].add(b),o[m]("keyup",function(t){27===(t.which||t.keyCode)&&i.close()}));var e=function(){i.isOpen()||(i.el[d].remove(y),i.body[u]="")};this.el[m]("transitionend",e,!1),this.el[m]("webkitTransitionEnd",e,!1),this.el[m]("mozTransitionEnd",e,!1),this.el[m]("msTransitionEnd",e,!1),this.callCallback(this.onCreated,this)},e.prototype.loadIframe=function(){var t=this;this.iframeId=p+Date.now(),this.iframeSrc=this.src||this.href||"";var i,e,o,n=[];n.push('<iframe src="'+this.iframeSrc+'" name="'+this.iframeId+'" id="'+this.iframeId+'" onload="this.style.opacity=1;" style="opacity:0;border:none;" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="true" height="166" frameborder="no"></iframe>'),n.push('<div class="half-circle-spinner"><div class="circle circle-1"></div><div class="circle circle-2"></div></div>'),this.body[u]=n.join(""),i=this.iframeId,e=this.body,(o=s.getElementById(i)).onload=function(){this.style.opacity=1,e[d].add(v),t.scrolling||t.dataScrolling?(o.removeAttribute("scrolling"),o.style.overflow="scroll"):(o[f]("scrolling","no"),o.style.overflow="hidden"),t.callCallback(t.onIframeLoaded,t),t.callCallback(t.onLoaded,t)}},e.prototype.open=function(){this.loadIframe(),this.dataPaddingBottom?this.content.style.paddingBottom=this.dataPaddingBottom:this.content.removeAttribute("style"),this.el[d].add(y),this.el[d].add(i),n[d].add(t),a[d].add(t),this.callCallback(this.onOpened,this)},e.prototype.close=function(){this.el[d].remove(i),this.body[d].remove(v),n[d].remove(t),a[d].remove(t),this.callCallback(this.onClosed,this)},e.prototype.isOpen=function(){return this.el[d].contains(i)},e.prototype.callCallback=function(t,i){"function"==typeof t&&t.bind(this)(i)},o.IframeLightbox=e}("undefined"!=typeof window?window:this,document);